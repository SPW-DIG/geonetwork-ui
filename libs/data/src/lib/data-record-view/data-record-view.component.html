<div *ngIf="record$ | async as record"
     [@inOutAnimation]
     class="w-full">
  <div class="flex flex-row items-center
                  mb-3">
    <div class="h-full">
      <a href="#"
         (click)="unsetRecord()"
         class="text-xl">
        <mat-icon>keyboard_arrow_left</mat-icon>
      </a>
    </div>
    <div class="flex-grow
                    border-l-6 border-gray-300">
      <h1 class="title-font text-xl font-bold text-gray-900">
        {{record.title}}
      </h1>
    </div>
  </div>

  <mat-tab-group class="w-full" animationDuration="0ms">
    <mat-tab>
      <ng-template mat-tab-label>
        <mat-icon class="">analytics</mat-icon>
        Data
      </ng-template>

      <data-map></data-map>

    </mat-tab>

    <mat-tab>
      <ng-template mat-tab-label>
        <mat-icon>info</mat-icon>
        Information
      </ng-template>

      <div class="flex p-4">
        <div class="w-2/3">
          <p class="leading-relaxed md:h-20 text-gray-700">
            {{record.abstract}}
          </p>
        </div>
        <div class="w-1/3">
          <ui-record-thumbnail
            class="w-48 h-48 border-b border-gray-200 bg-gray-100"
            [thumbnailUrl]="record.thumbnailUrl"
          ></ui-record-thumbnail>
        </div>
      </div>
    </mat-tab>

    <mat-tab *ngIf="record.link && record.link.length > 0">
      <ng-template mat-tab-label>
        <mat-icon>cloud_download</mat-icon>
        Download
      </ng-template>

      <div class="p-4">
        <ul class="list-disc">
          <li *ngFor="let link of record.link">
            <a [href]="link.url">{{link.name || link.description || link.url}}</a>
          </li>
        </ul>
      </div>
    </mat-tab>
  </mat-tab-group>


</div>
